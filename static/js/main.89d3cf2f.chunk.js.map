{"version":3,"sources":["components/TextbookList.js","components/TextbookUploadForm.js","App.js","serviceWorker.js","index.js"],"names":["columns","name","title","LibgenLinkFormatter","value","href","LibgenLinkProvider","props","formatterComponent","TextbookList","state","textbooks","search","loaded","axios","get","res","this","setState","data","map","textbook","course","toUpperCase","edition","author","md5","approved","style","margin","Button","backgroundColor","Autocomplete","options","sort","renderInput","params","TextField","label","variant","onChange","event","target","Paper","rows","filter","includes","defaultSorting","columnName","direction","for","React","Component","TextbookUploadForm","pages","description","year","language","publisher","isbn","issn","courseDepartment","courseCode","libgenLink","file","Promise","resolve","reject","reader","FileReader","onloadend","e","wordArray","CryptoJS","lib","WordArray","create","result","MD5","toString","onerror","readAsArrayBuffer","preventDefault","form","document","getElementById","formData","FormData","files","append","getMd5","substring","indexOf","alert","body","status","console","log","books","method","url","Qs","stringify","headers","auth","username","password","then","response","a","catch","onSubmit","formSubmit","id","type","required","placeholder","App","basename","className","exact","path","component","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.89d3cf2f.chunk.js","sourcesContent":["import React from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { Grid, Table, TableHeaderRow } from '@devexpress/dx-react-grid-material-ui';\nimport { DataTypeProvider, SortingState, IntegratedSorting } from '@devexpress/dx-react-grid';\nimport axios from 'axios';\n\nconst columns = [\n    { name: 'course', title: 'Course' },\n    { name: 'textbook', title: 'Textbook' },\n    { name: 'md5', title: 'Download' },\n];\n\nconst LibgenLinkFormatter = ({ value }) => {\n    return (\n        <span>\n            <a href={`http://gen.lib.rus.ec/book/index.php?md5=${value}`}>Download </a>\n        </span>\n    );\n} \n\nconst LibgenLinkProvider = props => (\n  <DataTypeProvider\n    formatterComponent={LibgenLinkFormatter}\n    {...props}\n  />\n);\n\nexport default class TextbookList extends React.Component {\n    state = {\n        textbooks: [],\n        search: '',\n        loaded: false,\n    };\n\n    async componentDidMount() {\n        \n        const url = 'https://sbutextbooks.herokuapp.com/books';\n        const res = await axios.get(url);\n        this.setState({\n            textbooks: res.data.textbooks.map((textbook) => {\n                return {\n                    course: textbook.course.toUpperCase(),\n                    textbook: `${textbook.title} (${textbook.edition} edition),\n                               ${textbook.author}`,\n                    md5: textbook.md5,\n                    approved: textbook.approved,\n                };\n            })\n        });\n        this.setState({ loaded: true });\n    }\n    render() {\n        if (!this.state.loaded) {\n            return <span>Loading...</span>\n        }\n        return (\n            <div style={{margin: '2em'}}>\n                <a href='https://sbutextbook.github.io/client/#/upload/'><Button style={{backgroundColor:'grey'}}>Upload</Button></a>\n                <hr />\n                <Autocomplete\n                    options={this.state.textbooks.map(textbook => textbook.course).sort()}\n                    renderInput={(params) => <TextField {...params} label=\"Course\" variant=\"outlined\" \n                    onChange={event => this.setState({ search: event.target.value })}\n                    />}\n                />\n                <Paper>\n                    <Grid rows={this.state.textbooks.filter(textbook => textbook.approved && textbook.course.includes(this.state.search.toUpperCase()))} columns={columns}>\n                        <SortingState defaultSorting={[{ columnName: 'course', direction: 'asc' }]} />\n                        <IntegratedSorting />\n                        <LibgenLinkProvider for={['md5']} />\n                        <Table />\n                        <TableHeaderRow />\n                    </Grid>\n                </Paper>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport axios from 'axios';\nimport { Button, Form, Input, Textarea } from 'muicss/react';\nimport Qs from 'qs';\nimport CryptoJS from 'crypto-js';\n\nexport default class TextbookUploadForm extends React.Component {\n    state = {\n        title: '',\n        author: '',\n        pages: '',\n        description: '',\n        edition: '',\n        year: '',\n        language: '',\n        publisher: '',\n        isbn: '',\n        issn: '',\n        courseDepartment: '',\n        courseCode: '',\n        libgenLink: '',\n    };\n\n    async getMd5(file) {\n        return new Promise((resolve, reject) => {\n          const reader = new FileReader();\n          reader.onloadend = (e) => {\n            var wordArray = CryptoJS.lib.WordArray.create(reader.result);\n            resolve(CryptoJS.MD5(wordArray).toString());\n          };\n          reader.onerror = (e) => {\n            reject(e);\n          };\n          reader.readAsArrayBuffer(file);\n        });\n      }\n\n    async formSubmit(e) {\n        e.preventDefault();\n        const form = document.getElementById('file');\n        let md5;\n        const formData = new FormData();\n\n        if (form.files[0]) {\n            formData.append(\"file\", form.files[0]);\n            md5 = await this.getMd5(form.files[0]);\n        } else {\n            if (this.state.libgenLink.includes('/book/index.php?md5=')) {\n                md5 = this.state.libgenLink.substring(this.state.libgenLink.indexOf('md5=') + 4);\n            } else {\n                alert('Invalid libgen link provided!');\n                return;\n            }\n        }\n\n        const { title, author, pages, description, edition, year, publisher, isbn, issn, courseDepartment, courseCode, language } = this.state;\n\n        let body = { title, author, pages, description, edition, year, publisher, isbn, issn, courseDepartment, courseCode, language };\n\n        try {\n            const response = await axios.get(`https://cors-anywhere.herokuapp.com/http://gen.lib.rus.ec/book/index.php?md5=${md5}`);\n            if (response.status === 200) {\n                console.log(\"Already on libgen.\");\n                const books = await axios.get('https://sbutextbooks.herokuapp.com/books');\n                for (const book of books.data.textbooks) {\n                    if (book.md5 === md5) {\n                        return;\n                    } \n                }\n                body = { title, author, pages, description, edition, year, publisher, isbn, issn, courseDepartment, courseCode, language, md5 };\n                await axios({\n                    method: 'POST',\n                    url: 'https://sbutextbooks.herokuapp.com/upload',\n                    data: Qs.stringify(body),\n                });\n                return;\n            }\n        } catch(err) {\n            console.log('not found on libgen... uploading...');\n        }\n\n        axios({\n            method: 'POST',\n            url: 'https://cors-anywhere.herokuapp.com/https://library.bz/main/upload/',\n            data: formData,\n            headers: { 'Content-Type': 'multipart/form-data' },\n            auth: { username: 'genesis', password: 'upload' },\n            })\n            .then((response) => {\n                let url = response.headers['x-final-url'];\n                url = `https://cors-anywhere.herokuapp.com/${url}`;\n                axios({\n                    url,\n                    method: 'POST',\n                    auth: { username: 'genesis', password: 'upload' },\n                    data: Qs.stringify(body),\n                })\n                .then(async (response) => {\n                    if (response.data.toString().includes('The record has been successfully saved.') && !response.data.toString().includes('The file is already in the upload queue and awaiting moderation')) {\n                        alert('Upload failed!');\n                    } else {\n                        body = { title, author, pages, description, edition, year, publisher, isbn, issn, courseDepartment, courseCode, language, md5 };\n                        await axios({\n                            method: 'POST',\n                            url: 'https://sbutextbooks.herokuapp.com/upload',\n                            data: Qs.stringify(body),\n                        });\n                    }\n                });\n            })\n            .catch((response) => {\n                console.log(response);\n            });\n    }\n\n    render() {\n        return (\n            <div style={{margin: '2em'}}>\n                <Form onSubmit={event => this.formSubmit(event)}>\n                    <legend>Upload a Textbook</legend>\n                    <Input id=\"file\" type=\"file\" required={!this.state.libgenLink} />\n                    <Input label=\"Libgen Link*\" onChange={e => this.setState({libgenLink: e.target.value})} placeholder=\"LibGen Link\" />\n                    <Input label=\"Title*\" onChange={e => this.setState({title: e.target.value})} placeholder=\"Title\" required={true} />\n                    <Input label=\"Author*\" onChange={e => this.setState({author: e.target.value})} placeholder=\"Author\" required={true} />\n                    <Input label=\"Page Count\" onChange={e => this.setState({pages: e.target.value})} placeholder=\"Page Count\" />\n                    <Textarea label=\"Description\" onChange={e => this.setState({description: e.target.value})} placeholder=\"Description (optional)\" />\n                    <Input label=\"Edition*\" onChange={e => this.setState({edition: e.target.value})} placeholder=\"ex. 1st, 2nd, 5th, etc.\" required={true} />\n                    <Input label=\"Language*\" onChange={e => this.setState({language: e.target.value})} placeholder=\"Language\" required={true} />\n                    <Input label=\"Release Year\" onChange={e => this.setState({year: e.target.value})} placeholder=\"Release Year\" />\n                    <Input label=\"Publisher\" onChange={e => this.setState({publisher: e.target.value})} placeholder=\"Publisher\" />\n                    <Input label=\"ISBN*\" onChange={e => this.setState({isbn: e.target.value})} placeholder=\"ISBN\" required={true} />\n                    <Input label=\"ISSN\" onChange={e => this.setState({issn: e.target.value})} placeholder=\"ISSN\" />\n                    <Input label=\"Course Department\" onChange={e => this.setState({courseDepartment: e.target.value})} placeholder=\"ex. AMS, CSE, BIO, etc.\" required={true} />\n                    <Input label=\"Course Code\" onChange={e => this.setState({courseCode: e.target.value})} placeholder=\"ex. 101, 300, etc.\" required={true} />\n                    <Button variant=\"raised\">Submit</Button>\n                </Form>\n            </div>\n        );\n    }\n}","import React from 'react';\n// import { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport { HashRouter, Route } from \"react-router-dom\";\nimport TextbookList from './components/TextbookList';\nimport TextbookUploadForm from './components/TextbookUploadForm';\n\nfunction App() {\n  return (\n    <HashRouter basename='/'>\n      <div className=\"App\">\n        <Route exact path=\"/\" component={TextbookList} />\n        <Route path=\"/upload\" component={TextbookUploadForm} />\n      </div>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}